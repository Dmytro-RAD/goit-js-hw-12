{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://pixabay.com/api/',\n  params: {\n    key: '50331031-463f70f86d851a00b481c2fad',\n    q: '',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  },\n});\n\nexport default function getImagesByQuery(query) {\n  return instance\n    .get('', {\n      params: { q: query },\n    })\n    .then(res => res.data);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryElem = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nexport function createGallery({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\"\n        width=\"360\"\n        height=\"200\"\n      />\n    </a>\n    <div class=\"info\">\n  <div class=\"info-item\">\n    <p class=\"text-info\">Likes</p>\n    <p class=\"value-info\">${likes}</p>\n  </div>\n  <div class=\"info-item\">\n    <p class=\"text-info\">Views</p>\n    <p class=\"value-info\">${views}</p>\n  </div>\n  <div class=\"info-item\">\n    <p class=\"text-info\">Comments</p>\n    <p class=\"value-info\">${comments}</p>\n  </div>\n  <div class=\"info-item\">\n    <p class=\"text-info\">Downloads</p>\n    <p class=\"value-info\">${downloads}</p>\n  </div>\n</div>\n\n  </li>`;\n}\n\nlet lightbox;\n\nexport function initLightbox() {\n  lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n}\n\nexport function imagesGallery(images) {\n  return images.map(createGallery).join('');\n}\n\nexport function renderImages(images) {\n  showLoader();\n\n  try {\n    const markup = imagesGallery(images);\n    galleryElem.innerHTML = markup;\n    refreshLightbox();\n  } finally {\n    hideLoader();\n  }\n}\n\nexport function refreshLightbox() {\n  if (lightbox) {\n    lightbox.refresh();\n  }\n}\n\nexport function clearGallery() {\n  galleryElem.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.hidden = false;\n}\n\nexport function hideLoader() {\n  loader.hidden = true;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport getImagesByQuery from './js/pixabay-api.js';\n\nimport {\n  createGallery,\n  imagesGallery,\n  renderImages,\n  initLightbox,\n  refreshLightbox,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\n//===================================================================//\nconst formElem = document.querySelector('.form');\nconst inputElem = document.querySelector('.input-form');\n\ninitLightbox();\n\nformElem.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = inputElem.value.trim();\n\n  if (!query) {\n    iziToast.show({\n      message: 'Please enter a search query!',\n      color: 'yellow',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          imageWidth: 24,\n        });\n        return;\n      }\n\n      renderImages(data.hits);\n    })\n    .catch(error => {\n      iziToast.show({\n        message: `Error fetching images: ${error.message}`,\n        color: 'red',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["instance","axios","getImagesByQuery","query","res","galleryElem","loader","createGallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","initLightbox","SimpleLightbox","imagesGallery","images","renderImages","showLoader","markup","refreshLightbox","hideLoader","clearGallery","formElem","inputElem","event","iziToast","data","error"],"mappings":"owBAEA,MAAMA,EAAWC,EAAM,OAAO,CAC5B,QAAS,2BACT,OAAQ,CACN,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACH,CAAC,EAEc,SAASC,EAAiBC,EAAO,CAC9C,OAAOH,EACJ,IAAI,GAAI,CACP,OAAQ,CAAE,EAAGG,CAAO,CAC1B,CAAK,EACA,KAAKC,GAAOA,EAAI,IAAI,CACzB,CChBA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAc,CAC5B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,oCAC2BL,CAAa;AAAA;AAAA;AAAA,eAGlCD,CAAY;AAAA,eACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAQSC,CAAK;AAAA;AAAA;AAAA;AAAA,4BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,4BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,4BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,QAKrC,CAEA,IAAIC,EAEG,SAASC,GAAe,CAC7BD,EAAW,IAAIE,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CAEO,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EAAO,IAAIZ,CAAa,EAAE,KAAK,EAAE,CAC1C,CAEO,SAASa,EAAaD,EAAQ,CACnCE,IAEA,GAAI,CACF,MAAMC,EAASJ,EAAcC,CAAM,EACnCd,EAAY,UAAYiB,EACxBC,GACJ,QAAY,CACRC,GACD,CACH,CAEO,SAASD,GAAkB,CAC5BR,GACFA,EAAS,QAAO,CAEpB,CAEO,SAASU,GAAe,CAC7BpB,EAAY,UAAY,EAC1B,CAEO,SAASgB,GAAa,CAC3Bf,EAAO,OAAS,EAClB,CAEO,SAASkB,GAAa,CAC3BlB,EAAO,OAAS,EAClB,CCvEA,MAAMoB,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAY,SAAS,cAAc,aAAa,EAEtDX,IAEAU,EAAS,iBAAiB,SAAUE,GAAS,CAC3CA,EAAM,eAAc,EAEpB,MAAMzB,EAAQwB,EAAU,MAAM,KAAI,EAElC,GAAI,CAACxB,EAAO,CACV0B,EAAS,KAAK,CACZ,QAAS,+BACT,MAAO,QACb,CAAK,EACD,MACD,CAEDJ,IACAJ,IAEAnB,EAAiBC,CAAK,EACnB,KAAK2B,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,WAAY,EACtB,CAAS,EACD,MACD,CAEDT,EAAaU,EAAK,IAAI,CAC5B,CAAK,EACA,MAAMC,GAAS,CACdF,EAAS,KAAK,CACZ,QAAS,0BAA0BE,EAAM,OAAO,GAChD,MAAO,KACf,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbP,GACN,CAAK,CACL,CAAC"}